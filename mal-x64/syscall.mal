(emit-x64-func!
  _sys_write
  (body
    [:mov :rax 1]
    [:syscall]
    ; TODO: Check error code, someday throw an exception if failure.
    [:mov :rax 0]))

(def! syscall-asm
  (fn* []
    (list
      (sys-write-asm))))
